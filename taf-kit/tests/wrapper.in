#! @SHELL@
# @configure_input@
# Wrapper around a non installed TAF-Kit component to make it work as
# an installed one.

# Use the shipped files, not those installed.
VCSN_DATA_PATH='@abs_top_srcdir@/data'
export VCSN_DATA_PATH

# Until Mika has finished implemented dump-automaton and list-automata,
# we have to emulate them.
datadir=$VCSN_DATA_PATH/$(basename "$0" | sed s/.*-//)
case $1 in
  list-automata)
    exec ls -1 $datadir/*.xml;;
  dump-automaton)
    exec cat $datadir/$2;;
esac

# PREVCSN can be set to tools such as Valgrind.
exec $PREVCSN '@abs_top_builddir@/taf-kit/src/'"$(basename "$0")" ${1+"$@"}
